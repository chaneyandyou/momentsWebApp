angular.module("app",["ui.router"]),angular.module("app").config(["$sceDelegateProvider",function(t){t.resourceUrlWhitelist(["self","http://localhost/**"])}]),angular.module("app").config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("main",{url:"/main",templateUrl:"view/main.html",controller:"mainCtrl"}).state("main.list",{url:"/main.list",template:"<div app-list></div>",controller:"mainCtrl"}).state("main.detail",{url:"/detail/:id",templateUrl:"view/template/listDetail.html",controller:"detailCtrl"}),e.otherwise("main")}]).config(["$stateProvider",function(t){t.state("author",{url:"/author",templateUrl:"view/author.html"})}]).config(["$stateProvider",function(t){t.state("content",{url:"/author",templateUrl:"view/content.html"})}]).config(["$stateProvider",function(t){t.state("my",{url:"/my",templateUrl:"view/my.html"})}]),angular.module("app").controller("detailCtrl",["$stateParams","$scope",function(t,e){e.back=function(){window.history.back()},e.dataItem=e.dataList[t.id],console.log(e.dataItem)}]),angular.module("app").controller("mainCtrl",["$scope","httpTool","$state",function(t,e,a){t.isLoading=!0,e.getData({url:"http://localhost/home.php",method:"jsonp",params:null},function(e){t.dataList=e.posts,t.isLoading=!1},function(e){t.isLoading=!1}),a.go("main.list")}]),angular.module("app").directive("appFoot",[function(){return{restrict:"A",replace:!0,templateUrl:"../view/template/foot.html"}}]),angular.module("app").directive("appList",[function(){return{restrict:"A",replace:!0,templateUrl:"../view/template/list.html"}}]),angular.module("app").directive("detail",function(){return{restrict:"A",replace:!1,link:function(t,e,a){e.html(a.detail)}}}),angular.module("app").directive("appNav",[function(){return{restrict:"A",replace:!0,templateUrl:"../view/template/nav.html",link:function(t,e,a){e.find("span").html(a.appNav),"true"==a.ishidden&&e.find("em").css({display:"none"})}}}]),angular.module("app").service("httpTool",["$http",function(t){this.getData=function(e,a,l){if("post"==e.method){var i="";for(var r in e.params)i+=r+"="+e.params[r]+"&";i=i.slice(0,-1),t({url:e.url,method:e.method,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:i})}else"get"!=e.method&&"jsonp"!=e.method||t({url:e.url,method:e.method,params:e.params}).then(function(t){a(t.data)}).catch(function(t){l(t)})}}]);